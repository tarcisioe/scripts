#!/bin/bash

set -euo pipefail

SCRIPT_LIB_ROOT="$(readlink -f "$(dirname "$(readlink -f "$0")")/../lib")"
source "${SCRIPT_LIB_ROOT}/init.sh" "${SCRIPT_LIB_ROOT}"

require util


usage() {
echo "\
Usage: $(script-name) [OPTION...]
Aestheticize the contents of the clipboard.

Optional arguments:
    -h/--help    Print this help message and exit."
}


aesthetics() {
    # Add spaces between the characters of the text contained in the clipboard.

    local text
    text="$(xclip -o)"

    local aestheticised
    aestheticised=$(python -c "print(' '.join('${text}'))")

    set-clipboard "${aestheticised}"
}


main() (
    set -e

    local options
    options=$(getopt -o h -l help -- "$@")
    eval set -- "$options"

    while true; do
        case "$1" in
            -h|--help)
                usage && exit 0
                ;;
            --) shift ;&
            *) break ;;
        esac
        shift
    done

    aesthetics
)


main "$@"
